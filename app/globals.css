@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------------------------
   Design tokens (HSL)
   - Tailwind consumes these via hsl(var(--token) / <alpha>)
   - Keep tokens semantic, not raw hex.
---------------------------- */
:root {
  --bg: 222 60% 2%;
  --surface: 222 45% 7%;
  --surface-2: 222 40% 10%;
  --border: 220 22% 20%;
  --text: 210 40% 98%;
  --muted: 215 18% 72%;

  /* Brand accents */
  --accent: 28 95% 58%;      /* warm orange */
  --accent-2: 52 95% 60%;    /* golden yellow */
  --accent-3: 118 45% 55%;   /* soft green */

  /* Status */
  --success: 145 70% 45%;
  --warn: 38 95% 55%;
  --danger: 0 85% 58%;
}

html,
body {
  height: 100%;
}

html {
  scroll-behavior: smooth;
}

body {
  color: hsl(var(--text));
  background-color: hsl(var(--bg));
}

::selection {
  background: hsl(var(--accent) / 0.28);
  color: hsl(var(--text));
}

/* Better tap UX */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Subtle noise overlay helper */
.noise {
  position: relative;
}
.noise::before {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0;
  opacity: 0.18;
  background-image: url("/noise.png");
  mix-blend-mode: overlay;
}

/* Premium "hairline" separator that doesn't look harsh on dark */
.hairline {
  background: linear-gradient(
    to right,
    transparent,
    hsl(var(--border) / 0.65),
    transparent
  );
}

/* Glass surface utility (better than raw backdrop-blur everywhere) */
.glass {
  background: linear-gradient(
    180deg,
    hsl(var(--surface) / 0.75),
    hsl(var(--surface) / 0.35)
  );
  border: 1px solid hsl(var(--border) / 0.6);
  backdrop-filter: blur(14px);
}

/* Focus ring */
:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px hsl(var(--bg)),
    0 0 0 4px hsl(var(--accent) / 0.55);
  border-radius: 10px;
}

/* Gradient border glow on hover/focus */
@layer utilities {
  .glow-border {
    position: relative;
    isolation: isolate;
  }
  .glow-border::before {
    content: "";
    position: absolute;
    border-radius: inherit;
    opacity: 0;
    transition: opacity 200ms ease;
    pointer-events: none;
  }
  .glow-border::before {
    inset: -1px;
    padding: 1px;
    background: linear-gradient(
      120deg,
      hsl(var(--accent) / 0.95),
      hsl(210 95% 60% / 0.95),
      hsl(330 90% 66% / 0.95),
      hsl(var(--accent-2) / 0.95),
      hsl(var(--accent-3) / 0.95),
      hsl(var(--accent) / 0.95)
    );
    background-size: 300% 300%;
    background-position: 0% 50%;
    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }
  .glow-border:hover::before,
  .glow-border:focus-visible::before,
  .glow-border:focus-within::before {
    opacity: 1;
    animation: glow-flow 3.2s linear infinite;
  }
}

@keyframes glow-flow {
  to {
    background-position: 200% 50%;
  }
}

/* Reduce motion: keep experience elegant without movement */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  [data-ambient-motion="true"] {
    animation: none !important;
    transition: none !important;
  }
  .animate-shimmer,
  .animate-float,
  .animate-pulseGlow {
    animation: none !important;
  }
  .glow-border::before {
    animation: none !important;
  }
  video[data-ambient-video="true"] {
    display: none !important;
  }
}
